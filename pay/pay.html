<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin class="font">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet"
        class="font">
    <link rel="stylesheet" type="text/css" href="pay.css" id="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<body>
    <!--the owner information-->
    <div id="me">
        <h3>بسمله اسامه شحات علي</h3>
        <h4>20230122</h4>
    </div>

    <!--changing theme button-->
    <button onclick="changeStyle()">Switch Style</button>
    <script>
        function changeStyle() {
            var currentStyle = document.getElementById('stylesheet').getAttribute('href');
            if (currentStyle === 'pay.css') {
                document.getElementById('stylesheet').setAttribute('href', 'pay2.css');
            } else {
                document.getElementById('stylesheet').setAttribute('href', 'pay.css');
            }
        }
    </script>
    <!--user information-->
    <div class="wrapper">
        <form id="myForm">
            <h1>Payment Details</h1>
            <div class="input-box">
                <input type="text" placeholder="Your Name" id="name" required>
                <span class="material-symbols-outlined">
                    person
                </span>
            </div>
            <div class="input-box">
                <input type="number" placeholder="Phone Number" id="number" required>
                <span class="material-symbols-outlined">
                    perm_phone_msg
                </span>
            </div>
            <div class="input-box">
                <input type="text" placeholder="Address" id="address" required>
                <span class="material-symbols-outlined">
                    home
                </span>
            </div>
            <div class="input-box">
                <input type="text" placeholder="Coupon Code" id="coupon" pattern="[0-9]{6}">
                <span class="material-symbols-outlined">
                    looks_6
                </span>
            </div>

            <!--choosing the products-->
            <div class="products">
                <div>
                    <h2 width="100%">Choose Your Products</h2>
                    <span class="material-symbols-outlined" id="nn">
                        check_circle
                    </span>
                </div>

                <div class="product1">
                    <div>
                        <input id="p1" type="checkbox" name="product1" value="1" checked>
                        <label for="p1">#01101</label>
                    </div>
                    <div>
                        <input id="p2" type="checkbox" name="product2" value="2">
                        <label for="p2">#01102</label>
                    </div>
                    <div>
                        <input id="p3" type="checkbox" name="product3" value="3">
                        <label for="p3">#01103</label>
                    </div>
                    <div>
                        <input id="p4" type="checkbox" name="product4" value="4">
                        <label for="p4">#01104</label>
                    </div>
                    <div>
                        <input id="p5" type="checkbox" name="product5" value="5">
                        <label for="p5">#01105</label>
                    </div>
                </div>

                <div class="product2">
                    <div>
                        <input id="p6" type="checkbox" name="product6" value="6">
                        <label for="p6">#01106</label>
                    </div>
                    <div>
                        <input id="p7" type="checkbox" name="product7" value="7">
                        <label for="p7">#01107</label>
                    </div>
                    <div>
                        <input id="p8" type="checkbox" name="product8" value="8">
                        <label for="p8">#01108</label>
                    </div>
                    <div>
                        <input id="p9" type="checkbox" name="product9" value="9">
                        <label for="p9">#01109</label>
                    </div>
                    <div>
                        <input id="p10" type="checkbox" name="product10" value="10">
                        <label for="p10">#01110</label>
                    </div>
                    <div>
                        <input id="p11" type="checkbox" name="product11" value="11">
                        <label for="p11">#01111</label>
                    </div>
                </div>
            </div>

            <!--choosing the buying way-->
            <div class="btns">
                <div class="btn1">
                    <button id="credit" type="button">Pay Credit</button>
                    <div id="inputContainer1" class="hidden">
                        <input type="number" id="inputField1" placeholder="credit 16Numbers" pattern="[0-9]{16}">
                        <input type="number" id="inputField2" placeholder="credit 3Numbers" pattern="[0-9]{3}">
                    </div>

                    <script>
                        document.getElementById('credit').addEventListener('click', function () {
                            document.getElementById('inputContainer1').classList.toggle('hidden');
                        });
                    </script>
                </div>

                <div class="btn2">
                    <button id="deliver" type="button">Cash On Deliver</button>
                    <div id="inputContainer1" class="hidden"></div>

                    <script>
                        document.getElementById('deliver').addEventListener('click', function () {
                            document.getElementById('inputContainer2').classList.toggle('hidden');
                        });
                    </script>
                    <script>
                        document.getElementById("deliver").addEventListener("click", function () {
                            this.classList.toggle("clicked");
                        });
                    </script>
                </div>
            </div>

            <!--user comments on the delivary-->
            <div class="textdata">

                <h3> Any Comments To Consider</h3>
                <span class="material-symbols-outlined" id="n">
                    comment
                </span>
                <textarea id="textData"
                    placeholder="You can mark what you liked with a heart in sell section !!"></textarea>

            </div>
            <button type="submit" class="btn" value="Submit">Done</button>

        </form>
    </div>
    <script>
       // Function to save form data to local storage
        function saveFormData() {
            let formDataArray = JSON.parse(localStorage.getItem('formData'));
            if (!Array.isArray(formDataArray)) {
                formDataArray = [];
            }
            const formData = {
                name: document.getElementById('name').value,
                number: document.getElementById('number').value,
                address: document.getElementById('address').value
            };
            formDataArray.push(formData);
            localStorage.setItem('formData', JSON.stringify(formDataArray));
            showMessage('Form Data Is Being Saved !');
        }

        // Function to load form data from local storage
        function loadFormData() {
            const formDataArray = JSON.parse(localStorage.getItem('formData')) || [];
            if (formDataArray.length > 0) {
                const lastFormData = formDataArray[formDataArray.length - 1];
                document.getElementById('name').value = lastFormData.name;
                document.getElementById('number').value = lastFormData.number;
                document.getElementById('address').value = lastFormData.address;
            }
        }

        // Function to show message with close button
        function showMessage(message) {
            const messageElement = document.getElementById('message');
            messageElement.textContent = message;
            messageElement.style.display = 'block'; // Show the message

            // Create close button
            const closeButton = document.createElement('button');
            closeButton.textContent = 'x';
            closeButton.className = 'closeButton'; // Add class for styling
            closeButton.onclick = function () {
                messageElement.textContent = '';
                messageElement.style.display = 'none'; // Hide the message
            };

            // Append close button to message
            messageElement.appendChild(closeButton);
        }

        // Load form data when the page loads
        window.onload = loadFormData;

        // Save form data and show message when the form is submitted
        document.getElementById('myForm').addEventListener('submit', function (event) {
            event.preventDefault();
            saveFormData();
            // Reset form after submission
            document.getElementById('myForm').reset();
        });

    </script>
</body>

</html>
